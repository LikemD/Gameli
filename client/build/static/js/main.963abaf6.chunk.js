(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),s=(a(97),a(45)),o=a(46),i=a(54),u=a(53),m=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Gameli Expense Tracker"))}}]),a}(n.Component);function p(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}a(36);var d=a(11),E=a.n(d),f=a(19),b=a(20),h=a(75),v=a(12),g=function(e,t){switch(t.type){case"GET_TXNS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,transactions:t.payload.filter((function(t){return t.userId===e.userId}))});case"DELETE_TXN":return Object(v.a)(Object(v.a)({},e),{},{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});case"ADD_TXN":return Object(v.a)(Object(v.a)({},e),{},{transactions:[].concat(Object(h.a)(e.transactions),[t.payload])});case"GET_ERR":return Object(v.a)(Object(v.a)({},e),{},{error:t.payload});case"LOGIN":return Object(v.a)(Object(v.a)({},e),{},{userId:t.payload._id,username:t.payload.username});default:return e}},y=a(35),j=a.n(y),x={transactions:[],username:"",password:"",userId:"",error:null,loading:!0},O=Object(n.createContext)(x),w=function(e){var t=e.children,a=Object(n.useReducer)(g,x),c=Object(b.a)(a,2),l=c[0],s=c[1];function o(){return(o=Object(f.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/v1/txns");case 3:t=e.sent,s({type:"GET_TXNS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"GET_ERR",payload:console.log(e.t0)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i(){return(i=Object(f.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("/api/v1/txns/".concat(t));case 3:s({type:"DELETE_TXN",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"GET_ERR",payload:console.log(e.t0)});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function u(){return(u=Object(f.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,j.a.post("/api/v1/txns",t,a);case 4:n=e.sent,s({type:"ADD_TXN",payload:n.data.data}),console.log(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"GET_ERR",payload:console.log(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function m(){return(m=Object(f.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("api/v1/users/login",t);case 3:a=e.sent,console.log(a),s({type:"LOGIN",payload:a.data.data}),console.log(l),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),s({type:"GET_ERR",payload:console.log(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=Object(f.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.prev=1,e.next=4,j.a.post("api/v1/users/register",t);case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return r.a.createElement(O.Provider,{value:{transactions:l.transactions,error:l.error,loading:l.loading,userId:l.userId,username:l.username,deleteTransaction:function(e){return i.apply(this,arguments)},addTransaction:function(e){return u.apply(this,arguments)},getTxns:function(){return o.apply(this,arguments)},login:function(e){return m.apply(this,arguments)},register:function(e){return p.apply(this,arguments)}}},t)},T=function(){var e=Object(n.useContext)(O),t=e.transactions,a=e.username,c=t.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2);return r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"Hi ",a,", Your Account Balance"),r.a.createElement("h1",{id:"balance"},"$",p(c)))},S=function(){var e=Object(n.useContext)(O).transactions.map((function(e){return e.amount})),t=e.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),a=(-1*e.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0)).toFixed(2);return r.a.createElement("div",{className:"inc-exp-container container"},r.a.createElement("div",null,r.a.createElement("h4",null,"Income"),r.a.createElement("p",{className:"money plus",id:"money-plus"}," +$",p(t)," ")),r.a.createElement("div",null,r.a.createElement("h4",null,"Expenses"),r.a.createElement("p",{className:"money minus",id:"money-minus"}," -$",p(a)," ")))},N=function(e){var t=e.transaction,a=t.amount<0?"-":"+",c=t.amount<0?"minus":"plus",l=Object(n.useContext)(O).deleteTransaction;return r.a.createElement("li",{className:c,key:t._id}," ",t.text,r.a.createElement("span",null,a,"$",p(Math.abs(t.amount))),r.a.createElement("button",{className:"delete-btn",onClick:function(){return l(t._id)}},"\xd7"))},k=function(){var e=Object(n.useContext)(O),t=e.transactions,a=e.getTxns;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"History"),r.a.createElement("ul",{id:"list",className:"list"},t.map((function(e){return r.a.createElement(N,{key:e._id,transaction:e})}))))},C=a(165),R=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),s=Object(b.a)(l,2),o=s[0],i=s[1],u=Object(n.useContext)(O),m=u.addTransaction,p=u.userId;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Add New Transaction"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={id:Object(C.a)(),userId:p,text:a,amount:+o};m(t),c(""),i(0)}},r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"text"},"Text"),r.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(e.target.value)},placeholder:"Enter Text"})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"amount"},"Amount ",r.a.createElement("br",null),"(Negative - expense , positive - income)"),r.a.createElement("input",{type:"number",value:o,onChange:function(e){return i(e.target.value)},placeholder:"Enter Amount"})),r.a.createElement("button",{className:"btn"},"Add Transaction")))},_=a(153),G=a(156),I=a(157),A=a(74),D=a(158),F=a(159),U=a(160),L={button:{margin:15}},P=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{position:"static"},r.a.createElement(G.a,null,r.a.createElement(I.a,{edge:"start",className:{marginRight:"theme.spacing(2)"},color:"inherit","aria-label":"menu"},r.a.createElement(A.a,null)),r.a.createElement(D.a,{variant:"h6",className:{flexGrow:"1"}},"Enter User Details"))),r.a.createElement(F.a,{container:!0,justify:"center",alignContent:"center"},r.a.createElement(U.a,{variant:"contained",color:"primary",label:"Continue",onClick:function(){e.loginStep()},style:L.button},"Login"),r.a.createElement(U.a,{variant:"contained",color:"primary",label:"Continue",onClick:function(){e.registerStep()},style:L.button},"Register")))},X=a(28),B=a(52),Y=a.n(B),$=a(163),H=a(164),J=a(161),M={button:{margin:15}},K=function(e){var t=Object(n.useState)({username:"",password:""}),a=Object(b.a)(t,2),c=a[0],l=a[1],s=Object(n.useContext)(O),o=s.login,i=s.userId,u=function(e){var t=e.target.value;l(Object(v.a)(Object(v.a)({},c),{},Object(X.a)({},e.target.name,t)))},m=function(){var t=Object(f.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o({username:c.username,password:c.password}),i&&e.hasAuthenticatedStep();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{position:"static"},r.a.createElement(G.a,null,r.a.createElement(I.a,{edge:"start",className:{marginRight:"theme.spacing(2)"},color:"inherit","aria-label":"menu"},r.a.createElement(Y.a,null)),r.a.createElement(D.a,{variant:"h6",className:{flexGrow:"1"}},"Enter User Details"))),r.a.createElement(F.a,{container:!0,justify:"center",className:{marginTop:"theme.spacing(2)"}},r.a.createElement(H.a,{mx:"auto"},r.a.createElement($.a,{id:"standard-basic",hintText:"Enter Your Username",label:"Username",name:"username",onChange:u,value:c.username}),r.a.createElement("br",null),r.a.createElement($.a,{id:"standard-basic",hintText:"Enter Your Password",label:"Password",name:"password",onChange:u,value:c.password}),r.a.createElement("br",null),r.a.createElement(U.a,{variant:"contained",color:"primary",label:"Continue",onClick:function(){return m()},style:M.button},"Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(J.a,{onClick:function(){e.actionStep()}},"Back"))))},q={button:{margin:15}},z=function(e){var t=Object(n.useState)({username:"",password:""}),a=Object(b.a)(t,2),c=a[0],l=a[1],s=Object(n.useContext)(O).register,o=function(e){var t=e.target.value;l(Object(v.a)(Object(v.a)({},c),{},Object(X.a)({},e.target.name,t)))},i=function(){var e=Object(f.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({username:c.username,password:c.password}),window.confirm("Registration complete. Press OK to go to login")&&u();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){e.actionStep()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{position:"static"},r.a.createElement(G.a,null,r.a.createElement(I.a,{edge:"start",className:{marginRight:"theme.spacing(2)"},color:"inherit","aria-label":"menu"},r.a.createElement(Y.a,null)),r.a.createElement(D.a,{variant:"h6",className:{flexGrow:"1"}},"Enter User Details"))),r.a.createElement(F.a,{container:!0,justify:"center",className:{marginTop:"theme.spacing(2)"}},r.a.createElement(H.a,null,r.a.createElement($.a,{id:"standard-basic",hintText:"Enter Your Username",label:"Username",name:"username",onChange:o,value:c.username}),r.a.createElement("br",null),r.a.createElement($.a,{id:"standard-basic",hintText:"Password",label:"Password",name:"password",onChange:o,value:c.password}),r.a.createElement("br",null),r.a.createElement(U.a,{variant:"contained",color:"primary",label:"Continue",onClick:function(){return i()},style:q.button},"Register"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(J.a,{onClick:function(){return u()}}))))},Q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={step:1},e.actionStep=function(){e.setState({step:1})},e.loginStep=function(){e.setState({step:2})},e.registerStep=function(){e.setState({step:3})},e.hasAuthenticatedStep=function(){e.setState({step:4})},e}return Object(o.a)(a,[{key:"render",value:function(){switch(this.state.step){case 1:return r.a.createElement(P,{loginStep:this.loginStep,registerStep:this.registerStep});case 2:return r.a.createElement(w,null,r.a.createElement(K,{hasAuthenticatedStep:this.hasAuthenticatedStep,actionStep:this.actionStep}));case 3:return r.a.createElement(w,null,r.a.createElement(z,{actionStep:this.actionStep}));case 4:return r.a.createElement(w,null,r.a.createElement(m,null),r.a.createElement("div",{id:"container"},r.a.createElement(T,null),r.a.createElement(S,null),r.a.createElement(k,null),r.a.createElement(R,null)))}}}]),a}(r.a.Component);var V=function(){return r.a.createElement(Q,null)};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root"))},36:function(e,t,a){},92:function(e,t,a){e.exports=a(123)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.963abaf6.chunk.js.map