(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{100:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),s=(a(100),a(47)),o=a(48),i=a(56),u=a(55),m=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Gameli Expense Tracker"))}}]),a}(n.Component);function p(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}a(38);var d=a(10),E=a.n(d),f=a(18),b=a(14),h=a(78),v=a(11),g=function(e,t){switch(t.type){case"GET_TXNS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,transactions:t.payload.filter((function(t){return t.userId===e.userId}))});case"DELETE_TXN":return Object(v.a)(Object(v.a)({},e),{},{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});case"ADD_TXN":return Object(v.a)(Object(v.a)({},e),{},{transactions:[].concat(Object(h.a)(e.transactions),[t.payload])});case"GET_ERR":return Object(v.a)(Object(v.a)({},e),{},{error:t.payload});case"LOGIN":return Object(v.a)(Object(v.a)({},e),{},{step:4,userId:t.payload._id,firstName:t.payload.firstName});case"DATE_FILTER":return Object(v.a)(Object(v.a)({},e),{},{transactions:t.payload.filter((function(t){return t.userId===e.userId}))});default:return e}},y=a(28),j=a.n(y),O={transactions:[],firstName:"",userId:"",error:null,loading:!0,step:1},x=Object(n.createContext)(O),w=function(e){var t=e.children,a=Object(n.useReducer)(g,O),c=Object(b.a)(a,2),l=c[0],s=c[1];function o(){return(o=Object(f.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/v1/txns");case 3:t=e.sent,s({type:"GET_TXNS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"GET_ERR",payload:console.log(e.t0)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function i(){return(i=Object(f.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("/api/v1/txns/".concat(t));case 3:s({type:"DELETE_TXN",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"GET_ERR",payload:console.log(e.t0)});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function u(){return(u=Object(f.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,j.a.post("/api/v1/txns",t,a);case 4:n=e.sent,s({type:"ADD_TXN",payload:n.data.data}),console.log(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"GET_ERR",payload:console.log(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function m(){return(m=Object(f.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("api/v1/users/login",t);case 3:a=e.sent,s({type:"LOGIN",payload:a.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"GET_ERR",payload:console.log(e.t0)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function p(){return(p=Object(f.a)(E.a.mark((function e(t,a){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date(t),r=new Date(a),e.prev=2,e.next=5,j.a.get("api/v1/txns/sortDate",{params:{startDate:n,endDate:r}});case 5:c=e.sent,s({type:"DATE_FILTER",payload:c.data.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function d(){return(d=Object(f.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.prev=1,e.next=4,j.a.post("api/v1/users/register",t);case 4:e.sent&&console.log("success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return r.a.createElement(x.Provider,{value:{transactions:l.transactions,error:l.error,loading:l.loading,userId:l.userId,firstName:l.firstName,step:l.step,deleteTransaction:function(e){return i.apply(this,arguments)},addTransaction:function(e){return u.apply(this,arguments)},getTxns:function(){return o.apply(this,arguments)},login:function(e){return m.apply(this,arguments)},register:function(e){return d.apply(this,arguments)},dateFilter:function(e,t){return p.apply(this,arguments)}}},t)},N=function(){var e=Object(n.useContext)(x),t=e.transactions,a=e.firstName,c=t.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2);return r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"Hi ",a,", Your Account Balance"),r.a.createElement("h1",{id:"balance"},"$",p(c)))},S=function(){var e=Object(n.useContext)(x).transactions.map((function(e){return e.amount})),t=e.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),a=(-1*e.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0)).toFixed(2);return r.a.createElement("div",{className:"inc-exp-container container"},r.a.createElement("div",null,r.a.createElement("h4",null,"Income"),r.a.createElement("p",{className:"money plus",id:"money-plus"}," +$",p(t)," ")),r.a.createElement("div",null,r.a.createElement("h4",null,"Expenses"),r.a.createElement("p",{className:"money minus",id:"money-minus"}," -$",p(a)," ")))},k=a(155),C=a(166),T=a(158),D=function(e){var t=e.transaction,a=t.amount<0?"-":"+",c=t.amount<0?"minus":"plus",l=Object(n.useContext)(x).deleteTransaction;return r.a.createElement("li",{className:c,key:t._id}," ",t.text,r.a.createElement("span",null,a,"$",p(Math.abs(t.amount))),r.a.createElement("button",{className:"delete-btn",onClick:function(){return l(t._id)}},"\xd7"))},I=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(b.a)(l,2),o=s[0],i=s[1],u=Object(n.useContext)(x),m=u.transactions,p=u.getTxns,d=u.dateFilter;return Object(n.useEffect)((function(){p()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"History"),r.a.createElement(k.a,null,r.a.createElement("label",null,"Start Date"),r.a.createElement(C.a,{id:"date",type:"date",style:{width:"350px"},InputLabelProps:{shrink:!0},value:a,onChange:function(e){c(e.target.value),""===a&""===o&&p()}}),r.a.createElement("label",null,"End Date"),r.a.createElement(C.a,{id:"date",type:"date",style:{width:"350px"},InputLabelProps:{shrink:!0},value:o,onChange:function(e){i(e.target.value),""===a&""===o&&p()}}),r.a.createElement("br",null),r.a.createElement(T.a,{onClick:function(){""===a&""===o?p():d(a,o)}},"Filter")),r.a.createElement("ul",{id:"list",className:"list"},m.map((function(e){return r.a.createElement(D,{key:e._id,transaction:e})}))))},_=a(168),R=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),s=Object(b.a)(l,2),o=s[0],i=s[1],u=Object(n.useState)(""),m=Object(b.a)(u,2),p=m[0],d=m[1],E=Object(n.useContext)(x),f=E.addTransaction,h=E.userId;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Add New Transaction"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={id:Object(_.a)(),userId:h,text:a,amount:+o,transactionDate:p};f(t),c(""),d(""),i(0)}},r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"text"},"Text"),r.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(e.target.value)},placeholder:"Enter Text"})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"amount"},"Amount ",r.a.createElement("br",null),"(Negative - expense , positive - income)"),r.a.createElement("input",{type:"number",value:o,onChange:function(e){return i(e.target.value)},placeholder:"Enter Amount"})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"date"},"Transaction Date"),r.a.createElement("br",null),r.a.createElement(C.a,{id:"date",type:"date",style:{width:"350px"},InputLabelProps:{shrink:!0},value:p,onChange:function(e){d(e.target.value),console.log(p)}})),r.a.createElement("button",{className:"btn"},"Add Transaction")))},F=a(159),A=a(160),L=a(161),G=a(77),P=a(162),U=a(163),X={button:{margin:15}},Y=function(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),c=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{position:"static"},r.a.createElement(A.a,null,r.a.createElement(L.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){l(!c)}},r.a.createElement(G.a,{open:c})),r.a.createElement(P.a,{variant:"h6"},"Sign Up"))),r.a.createElement(U.a,{container:!0,justify:"center",alignContent:"center"},r.a.createElement(T.a,{variant:"contained",color:"primary",label:"Continue",onClick:function(){e.loginStep()},style:X.button},"Login"),r.a.createElement(T.a,{variant:"contained",color:"primary",label:"Continue",onClick:function(){e.registerStep()},style:X.button},"Register")))},B=a(31),$=a(54),H=a.n($),J=a(167),M=a(164),K={button:{margin:15}},q=function(e){var t=Object(n.useState)({username:"",password:""}),a=Object(b.a)(t,2),c=a[0],l=a[1],s=Object(n.useContext)(x),o=s.login,i=s.userId,u=function(e){var t=e.target.value;l(Object(v.a)(Object(v.a)({},c),{},Object(B.a)({},e.target.name,t)))},m=function(){var t=Object(f.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o({username:c.username,password:c.password}),i&&e.hasAuthenticatedStep();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{position:"static"},r.a.createElement(A.a,null,r.a.createElement(L.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(H.a,null)),r.a.createElement(P.a,{variant:"h6"},"Enter User Details"))),r.a.createElement(U.a,{container:!0,justify:"center"},r.a.createElement(J.a,{mx:"auto"},r.a.createElement(C.a,{id:"standard-basic-username",hinttext:"Enter Your Username",label:"Username",name:"username",onChange:u,value:c.username}),r.a.createElement("br",null),r.a.createElement(C.a,{id:"standard-basic-password",hinttext:"Enter Your Password",label:"Password",name:"password",onChange:u,value:c.password}),r.a.createElement("br",null),r.a.createElement(T.a,{variant:"contained",color:"primary",label:"Continue",onClick:function(){return m()},style:K.button},"Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(M.a,{onClick:function(){e.actionStep()}},"Back"))))},z={button:{margin:15}},Q=function(e){var t=Object(n.useState)({username:"",password:"",firstName:"",lastName:""}),a=Object(b.a)(t,2),c=a[0],l=a[1],s=Object(n.useContext)(x).register,o=function(e){var t=e.target.value;l(Object(v.a)(Object(v.a)({},c),{},Object(B.a)({},e.target.name,t)))},i=function(){var e=Object(f.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({username:c.username,password:c.password,firstName:c.firstName,lastName:c.lastName}),window.confirm("Registration complete. Press OK to go to login")&&u();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){e.actionStep()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{position:"static"},r.a.createElement(A.a,null,r.a.createElement(L.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(H.a,null)),r.a.createElement(P.a,{variant:"h6"},"Enter User Details"))),r.a.createElement(U.a,{container:!0,justify:"center"},r.a.createElement(J.a,null,r.a.createElement(C.a,{id:"standard-basic-firstName",label:"First Name",name:"firstName",onChange:o,value:c.firstName}),r.a.createElement("br",null),r.a.createElement(C.a,{id:"standard-basic-lastName",hinttext:"Enter Your Last Name",label:"Last Name",name:"lastName",onChange:o,value:c.lastName}),r.a.createElement("br",null),r.a.createElement(C.a,{id:"standard-basic-username",hinttext:"Enter Your Username",label:"Username",name:"username",onChange:o,value:c.username}),r.a.createElement("br",null),r.a.createElement(C.a,{id:"standard-basic-password",hinttext:"Password",label:"Password",name:"password",onChange:o,value:c.password}),r.a.createElement("br",null),r.a.createElement(T.a,{variant:"contained",color:"primary",label:"Continue",onClick:function(){return i()},style:z.button},"Register"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(M.a,{onClick:function(){return u()}}))))},V=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={step:1},e.actionStep=function(){e.setState({step:1})},e.loginStep=function(){e.setState({step:2})},e.registerStep=function(){e.setState({step:3})},e.hasAuthenticatedStep=function(){e.setState({step:4})},e}return Object(o.a)(a,[{key:"render",value:function(){switch(this.state.step){case 1:return r.a.createElement(Y,{loginStep:this.loginStep,registerStep:this.registerStep});case 2:return r.a.createElement(w,null,r.a.createElement(q,{hasAuthenticatedStep:this.hasAuthenticatedStep,actionStep:this.actionStep}));case 3:return r.a.createElement(w,null,r.a.createElement(Q,{actionStep:this.actionStep}));case 4:return r.a.createElement(w,null,r.a.createElement(m,null),r.a.createElement("div",{id:"container"},r.a.createElement(N,null),r.a.createElement(S,null),r.a.createElement(I,null),r.a.createElement(R,null)));default:return}}}]),a}(r.a.Component);var W=function(){return r.a.createElement(V,null)};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root"))},38:function(e,t,a){},95:function(e,t,a){e.exports=a(126)}},[[95,1,2]]]);
//# sourceMappingURL=main.b968dde1.chunk.js.map